<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 - 知识图谱系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css   " rel="stylesheet">
    <link rel="stylesheet" href="static/css/auth.css">
</head>
<body>

    <<!-- 新增两侧垂直打字动画 -->
    <div class="vertical-typing-container">
        <div class="typing-left" id="typingLeft"></div>
        <div class="typing-right" id="typingText"></div>
    </div>
    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-logo">
                <img src="https://via.placeholder.com/60x60   " alt="系统Logo">
                <h3>知识图谱系统</h3>
                <p class="text-muted">请登录您的账号</p>
            </div>

            <form id="loginForm">
                <div class="alert alert-danger d-none" id="loginError">用户名或密码错误</div>

                <div class="form-group">
                    <label for="loginUsername" class="form-label">用户名</label>
                    <input type="text" id="loginUsername" class="form-control" placeholder="请输入用户名" required>
                    <div class="error-message d-none" id="usernameError"></div>
                </div>

                <div class="form-group">
                    <label for="loginPassword" class="form-label">密码</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="请输入密码" required>
                    <div class="error-message d-none" id="passwordError"></div>
                </div>

                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" id="rememberMe">
                    <label class="form-check-label" for="rememberMe">记住我</label>
                </div>

               <!-- 在 login.html 和 register.html 中找到按钮部分 -->
                <div class="text-center">  <!-- 添加这行 -->
                     <button type="submit" class="btn btn-primary auth-btn">登录</button>
                </div>

                <div class="auth-footer">
                    <p class="text-center mt-3">
                        <a href="#" class="text-decoration-none">忘记密码?</a>
                        <span class="mx-2">|</span>
                        <a href="register.html" class="text-decoration-none">注册新账号</a>
                    </p>
                </div>
            </form>
        </div>
    </div>


    <script>

        // 新增垂直打字动画脚本
        document.addEventListener('DOMContentLoaded', function() {
            const textLeft = "欢 迎 来 到";
            const textRight = "知 识 图 谱";
            const typingLeftElement = document.getElementById('typingLeft');
            const typingRightElement = document.getElementById('typingText');

            // 垂直打字函数
            function typeVertical(element, text, speed, callback) {
                const lines = text.split('\n');
                let i = 0, j = 0;

                function typeLine() {
                    if (i < lines.length) {
                        if (j <= lines[i].length) {
                            element.innerHTML = lines.slice(0, i).join('<br>') +
                                              '<br>' + lines[i].substring(0, j);
                            j++;
                            setTimeout(typeLine, speed);
                        } else {
                            i++;
                            j = 0;
                            element.innerHTML = lines.slice(0, i).join('<br>');
                            if (i < lines.length) {
                                setTimeout(typeLine, speed * 2);
                            } else if (callback) {
                                callback();
                            }
                        }
                    }
                }
                typeLine();
            }

            // 先打左侧文字，再打右侧文字
            typeVertical(typingLeftElement, textLeft, 150, function() {
                setTimeout(() => {
                    typeVertical(typingRightElement, textRight, 150);
                }, 300);
            });
        });



        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // 清除错误状态
            document.getElementById('loginError').classList.add('d-none');
            document.getElementById('usernameError').classList.add('d-none');
            document.getElementById('passwordError').classList.add('d-none');

            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            let isValid = true;

            if (!username.trim()) {
                document.getElementById('usernameError').textContent = '请输入用户名';
                document.getElementById('usernameError').classList.remove('d-none');
                isValid = false;
            }

            if (!password) {
                document.getElementById('passwordError').textContent = '请输入密码';
                document.getElementById('passwordError').classList.remove('d-none');
                isValid = false;
            } else if (password.length < 6) {
                document.getElementById('passwordError').textContent = '密码长度至少为6位';
                document.getElementById('passwordError').classList.remove('d-none');
                isValid = false;
            }

            if (isValid) {
                // 模拟登录成功
                console.log('登录信息:', { username, password });
                // 在实际应用中，这里会发送AJAX请求到后端
                // 登录成功后跳转到首页
                // window.location.href = 'index.html';

                // 模拟登录失败（用于演示）
                document.getElementById('loginError').classList.remove('d-none');
            }
        });


    </script>
</body>
</html>